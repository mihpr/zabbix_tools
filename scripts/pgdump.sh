#!/usr/bin/env bash

# ----------------------------------------------------------------------------------------------------------------------
# Settings
# ----------------------------------------------------------------------------------------------------------------------
DB_HOST=localhost
DB_USER="zabbix"
DB_PASSWORD="password"
DUMPS_HOME="${HOME}/dumps"

# ----------------------------------------------------------------------------------------------------------------------
# Functions
# ----------------------------------------------------------------------------------------------------------------------
backup_db() {
    local DB_NAME=$1
    PGPASSWORD=${DB_PASSWORD} pg_dump -h ${DB_HOST} -f "${DUMPS_HOME}/pg_${DB_NAME}.sql" -U${DB_USER} ${DB_NAME}
}

# ----------------------------------------------------------------------------------------------------------------------
# Main
# ----------------------------------------------------------------------------------------------------------------------

backup_db "address"
# backup_db "zabbix_proxy"
